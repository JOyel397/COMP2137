#!/bin/bash

echo ""
echo "System Report generated by $(whoami), $(date)"
echo ""

echo "System Information"
echo "------------------"
echo "Hostname: $(hostname)"
. /etc/os-release
echo "OS: $NAME $VERSION"
echo "Uptime: $(uptime -p)"
echo ""

echo "Hardware Information"
echo "--------------------"
echo "CPU: $(lshw -class processor | grep 'product' | awk -F ': ' '{print $2}')"
echo "Speed: $(lscpu | grep 'MHz' | awk -F ': ' '{print $2}') MHz"
echo "RAM: $(free -h | grep 'Mem:' | awk '{print $2}')"
echo "Disk(s): $(lsblk -d -o model,size | grep -v 'MODEL' | awk '{print $1, $2}')"
echo "Video: $(lshw -class display | grep 'product' | awk -F ': ' '{print $2}')"
echo ""

echo "Network Information"
echo "-------------------"
echo "FQDN: $(hostname -f)"
echo "Host Address: $(hostname -I | awk '{print $1}')"
echo "Gateway IP: $(ip r | grep default | awk '{print $3}')"
echo "DNS Server: $(systemd-resolve --status | grep 'DNS Servers' | awk '{print $3}')"
echo ""

echo "InterfaceName: $(lshw -class network | grep 'product' | awk -F ': ' '{print $2}')"
echo "IP Address: $(ip -o -f inet addr show | awk '/scope global/ {print $4}')"
echo ""

echo "System Status"
echo "-------------"
echo "Users Logged In: $(who | awk '{print $1}' | sort | uniq | paste -sd,)"
echo "Disk Space: $(df -h --output=source,avail | grep -v 'Avail' | awk '{print $1 ": " $2}')"
echo "Process Count: $(ps -e | wc -l)"
echo "Load Averages: $(uptime | awk -F 'load average: ' '{print $2}')"
echo "Memory Allocation: $(free -h)"
echo "Listening Network Ports: $(ss -tuln | grep LISTEN | awk '{print $5}' | awk -F':' '{print $NF}' | paste -sd,)"
echo "UFW Rules: $(sudo ufw status numbered)"
echo ""
